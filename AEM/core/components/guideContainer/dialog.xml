<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
    jcr:primaryType="cq:Dialog"
    height="{Long}430"
    width="{Long}640"
    xtype="dialog">
    <items
        jcr:primaryType="cq:Widget"
        xtype="tabpanel">
        <items jcr:primaryType="cq:WidgetCollection">
            <afSource
                jcr:primaryType="cq:Panel"
                border="false"
                title="Adaptive Form Source">
                <items jcr:primaryType="cq:WidgetCollection">
                    <useExistingAF
                        jcr:primaryType="cq:Widget"
                        fieldLabel="Use an existing Adaptive Form"
                        name="./useExistingAF"
                        type="checkbox"
                        xtype="selection">
                        <listeners
                            jcr:primaryType="nt:unstructured"
                            loadcontent="function() { guidelib.author.GuideExtJSDialogUtils.loadAFSourceTab.apply(this); }"
                            selectionchanged="function() { guidelib.author.GuideExtJSDialogUtils.AFSourceSelectionListener.apply(this,[arguments[0],arguments[1],arguments[2] ]); }"/>
                    </useExistingAF>
                    <guideRef
                        jcr:primaryType="cq:Widget"
                        fieldDescription="Select an existing Adaptive Form"
                        fieldLabel="Adaptive Form path"
                        hidden="{Boolean}true"
                        name="./guideRef"
                        rootPath="/content/dam/formsanddocuments"
                        showTitlesInTree="false"
                        xtype="pathfield"/>
                </items>
            </afSource>
            <mobileLayoutTab
                jcr:primaryType="cq:Panel"
                border="false"
                title="Mobile Layout">
                <items jcr:primaryType="cq:WidgetCollection">
                    <layout
                        jcr:primaryType="cq:Widget"
                        allowBlank="false"
                        defaultValue="fd/af/layouts/mobile/simple"
                        disabled="false"
                        fieldLabel="Select a layout"
                        grow="false"
                        hideLabel="false"
                        name="./layout/mobileLayout"
                        options="/libs/fd/af/components/info.json?type=mobilelayout"
                        readOnly="false"
                        selectOnFocus="false"
                        type="select"
                        value="fd/af/layouts/mobile/simple"
                        xtype="selection"/>
                    <parseGridLayoutForMenu
                        jcr:primaryType="cq:Widget"
                        fieldLabel="Add navigable items of responsive layout to mobile menu"
                        name="./layout/parseGridLayoutForMenu"
                        type="checkbox"
                        xtype="selection"/>
                </items>
            </mobileLayoutTab>
            <thankYouWorkFlow
                jcr:primaryType="cq:Panel"
                border="false"
                itemId="thankYouTab"
                title="Thank you">
                <items jcr:primaryType="cq:WidgetCollection">
                    <redirect
                        jcr:primaryType="nt:unstructured"
                        fieldLabel="Thank you page"
                        name="./redirect"
                        type="select"
                        xtype="pathfield"/>
                </items>
            </thankYouWorkFlow>
            <submitActions
                jcr:primaryType="cq:Panel"
                border="false"
                itemId="submitActionsTab"
                title="Submit actions">
                <items jcr:primaryType="cq:WidgetCollection">
                    <actionType
                        jcr:primaryType="cq:Widget"
                        fieldLabel="Submit action"
                        name="./actionType"
                        xtype="guideactiontypeselection">
                        <listeners
                            jcr:primaryType="nt:unstructured"
                            selectionchanged="function(){guidelib.author.GuideExtJSDialogUtils.enableFormPortalSubmit(this);}"/>
                    </actionType>
                    <enablePortalSubmit
                        jcr:primaryType="cq:Widget"
                        fieldLabel="Enable Portal Submission"
                        name="./enablePortalSubmit"
                        type="checkbox"
                        xtype="selection"/>
                    <enableServerValidation
                        jcr:primaryType="cq:Widget"
                        fieldLabel="Enable Server Validation"
                        name="./enableServerValidation"
                        type="checkbox"
                        xtype="selection"/>
                    <actionSet
                        jcr:primaryType="cq:Widget"
                        autoWidth="{Boolean}true"
                        collapsed="false"
                        collapsible="false"
                        componentId="guide_action_config_panel"
                        name="./guideActionConfigSet"
                        title="Action configuration"
                        xtype="dialogfieldset"/>
                    <xdpRef
                        jcr:primaryType="cq:Widget"
                        fieldLabel="xdpref"
                        hidden="{Boolean}true"
                        name="./xdpRef"
                        xtype="textfield">
                        <listeners
                            jcr:primaryType="nt:unstructured"
                            loadcontent="function(){guidelib.author.GuideExtJSDialogUtils.loadSubmitOptions.apply(this, [arguments[0], 'xfa']);}"/>
                    </xdpRef>
                    <xsdRef
                        jcr:primaryType="cq:Widget"
                        fieldLabel="xsdref"
                        hidden="{Boolean}true"
                        name="./xsdRef"
                        xtype="textfield">
                        <listeners
                            jcr:primaryType="nt:unstructured"
                            loadcontent="function(){guidelib.author.GuideExtJSDialogUtils.loadSubmitOptions.apply(this, [arguments[0], 'xsd']);}"/>
                    </xsdRef>
                    <metadataselector
                        jcr:primaryType="cq:Widget"
                        defaultValue="global"
                        fieldLabel="Metadata"
                        metadatafieldname="./submissionMetaInfo/metadata"
                        name="./submissionMetaInfo/metadataselector"
                        type="radio"
                        xtype="selection">
                        <options jcr:primaryType="cq:WidgetCollection">
                            <usemetadatatab
                                jcr:primaryType="nt:unstructured"
                                text="Use from metadata tab"
                                value="global"/>
                            <definenew
                                jcr:primaryType="nt:unstructured"
                                text="define new"
                                value="local"/>
                        </options>
                        <listeners
                            jcr:primaryType="nt:unstructured"
                            loadcontent="function() {  guidelib.author.GuideExtJSDialogUtils.onLoadMetadataSourceRadio.apply(this) }"
                            selectionchanged="function() { guidelib.author.GuideExtJSDialogUtils.handleMetadataSourceSelection.apply(this,[arguments[0],arguments[1],arguments[2]]) }"/>
                    </metadataselector>
                    <metadataProperties
                        jcr:primaryType="cq:Widget"
                        name="./submissionMetaInfo/metadata"
                        xtype="multifield">
                        <fieldConfig
                            jcr:primaryType="nt:unstructured"
                            column="2"
                            xtype="fpmetadatamultifield"/>
                    </metadataProperties>
                </items>
            </submitActions>
            <styling
                jcr:primaryType="nt:unstructured"
                title="Styling"
                xtype="panel">
                <items jcr:primaryType="cq:WidgetCollection">
                    <cssFileRef
                        jcr:primaryType="nt:unstructured"
                        fieldLabel="CSS file path"
                        name="./cssFileRef"
                        rootPath="/"
                        type="select"
                        xtype="pathfield"/>
                    <clientLibRef
                        jcr:primaryType="cq:Widget"
                        fieldDescription="This client library contains JavaScript Functions which can be used in expressions supported by Adaptive Forms"
                        fieldLabel="Name of client library"
                        name="./clientLibRef"
                        xtype="textfield"/>
                    <fieldLayout
                        jcr:primaryType="cq:Widget"
                        autoHeight="{Boolean}true"
                        fieldDescription="Layout For All the Fields in the Adaptive Form"
                        fieldLabel="Configure Field Layout"
                        name="./fieldLayout"
                        options="/libs/fd/af/components/info.json?type=layout&amp;layoutType=fd/af/layouts/field&amp;isAfField=false"
                        type="select"
                        xtype="selection"/>
                </items>
            </styling>
            <autoSave
                jcr:primaryType="cq:Panel"
                border="false"
                itemId="autoSaveTab"
                title="Auto save">
                <items jcr:primaryType="cq:WidgetCollection">
                    <autoSaveEnable
                        jcr:primaryType="cq:Widget"
                        fieldLabel="Enable auto save"
                        name="./enableAutoSave"
                        type="checkbox"
                        xtype="selection"/>
                    <autoSaveStartExpresion
                        jcr:primaryType="cq:Widget"
                        fieldLabel="Auto save start expression"
                        name="./autoSaveStartExpression"
                        xtype="textfield"/>
                    <autoSaveStrategyType
                        jcr:primaryType="cq:Widget"
                        fieldLabel="Auto save trigger"
                        name="./autoSaveStrategyType"
                        xtype="guideautosavestrategyselection"/>
                    <autoSaveStrategyActionSet
                        jcr:primaryType="cq:Widget"
                        autoWidth="{Boolean}true"
                        collapsible="false"
                        componentId="guide_auto_save_strategy_config_panel"
                        name="./guideAutoSaveStrategyConfigSet"
                        title="Strategy configuration"
                        xtype="dialogfieldset"/>
                </items>
            </autoSave>
            <metadata
                jcr:primaryType="cq:Panel"
                border="false"
                itemId="metadatatab"
                title="Metadata">
                <items jcr:primaryType="cq:WidgetCollection">
                    <title
                        jcr:primaryType="cq:Widget"
                        text="Metadata for draft/submission"
                        xtype="label"/>
                    <metadataProperties
                        jcr:primaryType="cq:Widget"
                        name="./globalMetaInfo/metadata"
                        xtype="multifield">
                        <fieldConfig
                            jcr:primaryType="nt:unstructured"
                            column="2"
                            xtype="fpmetadatamultifield"/>
                    </metadataProperties>
                </items>
            </metadata>
            <dor
                jcr:primaryType="cq:Panel"
                border="false"
                itemId="dorTab"
                title="DoR Settings">
                <items jcr:primaryType="cq:WidgetCollection">
                    <excludeFieldsFromDoRIfHidden
                        jcr:primaryType="cq:Widget"
                        fieldDescription="Exclude from DoR will derive its value from visibility expression of field if checked when Exclude from DoR is not set"
                        fieldLabel="Exclude fields from DoR if hidden"
                        name="./excludeFromDoRIfHidden"
                        type="checkbox"
                        xtype="selection"/>
                    <includeUnboundFields
                        jcr:primaryType="cq:Widget"
                        fieldDescription="Include unbound fields in DoR for adaptive form based on schema form model"
                        fieldLabel="Include unbound fields in DoR"
                        name="./includeUnboundFields"
                        type="checkbox"
                        xtype="selection"/>
                </items>
            </dor>
        </items>
    </items>
</jcr:root>
