<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:granite="http://www.adobe.com/jcr/granite/1.0" xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
    jcr:mixinTypes="[granite:InternalArea]"
    jcr:primaryType="cq:Dialog"
    height="{Long}600"
    title="Edit Chart"
    xtype="dialog">
    <items jcr:primaryType="cq:TabPanel">
        <items jcr:primaryType="cq:WidgetCollection">
            <title
                jcr:primaryType="nt:unstructured"
                title="Title and text"
                xtype="panel">
                <items jcr:primaryType="cq:WidgetCollection">
                    <name
                        jcr:primaryType="nt:unstructured"
                        path="/libs/fd/af/components/guidefield/dialog/items/title/items/name.infinity.json"
                        xtype="cqinclude"/>
                    <colspan
                        jcr:primaryType="nt:unstructured"
                        path="/libs/fd/af/components/guidefield/dialog/items/title/items/colspan.infinity.json"
                        xtype="cqinclude"/>
                    <ruleEditortext0
                        jcr:primaryType="cq:Widget"
                        html="&lt;label>Use the new &lt;b class='open-rule-editor' style='color:blue;cursor:pointer;text-decoration:underline;' >Rule Editor&lt;/b> to define scripts on fields.&lt;/label>"
                        style="text-align:center; padding-top:15px;"
                        xtype="static"/>
                    <ruleEditortext1
                        jcr:primaryType="cq:Widget"
                        cls="x-form-item-description"
                        style="text-align:center; padding-bottom:20px;"
                        text="You can also access it directly from the field's contextual menu."
                        xtype="static"/>
                </items>
            </title>
            <chartConfig
                jcr:primaryType="nt:unstructured"
                title="Configuration"
                xtype="panel">
                <items jcr:primaryType="cq:WidgetCollection">
                    <chartType
                        jcr:primaryType="cq:Widget"
                        ctCls="guideChartCombo"
                        defaultValue="linepoint"
                        fieldLabel="Chart type"
                        name="./chartType"
                        type="select"
                        xtype="selection">
                        <options jcr:primaryType="cq:WidgetCollection">
                            <pie
                                jcr:primaryType="nt:unstructured"
                                text="Pie"
                                value="pie"/>
                            <donut
                                jcr:primaryType="nt:unstructured"
                                text="Donut"
                                value="donut"/>
                            <bar
                                jcr:primaryType="nt:unstructured"
                                text="Bar"
                                value="bar"/>
                            <column
                                jcr:primaryType="nt:unstructured"
                                text="Column"
                                value="column"/>
                            <line
                                jcr:primaryType="nt:unstructured"
                                text="Line"
                                value="line"/>
                            <linepoint
                                jcr:primaryType="nt:unstructured"
                                text="Line and Point"
                                value="linepoint"/>
                            <point
                                jcr:primaryType="nt:unstructured"
                                text="Point"
                                value="point"/>
                            <area
                                jcr:primaryType="nt:unstructured"
                                text="Area"
                                value="area"/>
                        </options>
                        <listeners
                            jcr:primaryType="nt:unstructured"
                            loadcontent="function(){guidelib.author.GuideExtJSDialogUtils.handleChartTypeSelection.apply(this);}"
                            selectionchanged="function(){guidelib.author.GuideExtJSDialogUtils.handleChartTypeSelection.apply(this);}"/>
                    </chartType>
                    <repeatableItem
                        jcr:primaryType="cq:Widget"
                        fieldDescription="Name of repeating row"
                        fieldLabel="Data source"
                        name="./repeatableItem"
                        xtype="textfield"/>
                    <axisX
                        jcr:primaryType="cq:Widget"
                        anchor="100%"
                        title="X-Axis"
                        xtype="fieldset">
                        <items jcr:primaryType="cq:WidgetCollection">
                            <xAxisTitle
                                jcr:primaryType="cq:Widget"
                                fieldDescription="Title to appear for X Axis."
                                fieldLabel="Title"
                                name="./xAxisTitle"
                                xtype="textfield"/>
                            <xAxis
                                jcr:primaryType="cq:Widget"
                                fieldDescription="Name of the field to be plotted on X Axis."
                                fieldLabel="Field"
                                name="./xExp"
                                xtype="textfield"/>
                            <reducerXFunction
                                jcr:primaryType="cq:Widget"
                                autoHeight="{Boolean}true"
                                ctCls="guideChartCombo"
                                defaultValue="none"
                                fieldDescription="Use the selected function to compute value of the above field."
                                fieldLabel="Use function"
                                name="./reducerXFunction"
                                options="/libs/fd/af/components/info.json?type=chartReducer"
                                type="select"
                                xtype="selection">
                                <listeners
                                    jcr:primaryType="nt:unstructured"
                                    loadcontent="function(){guidelib.author.GuideExtJSDialogUtils.handleUseFunctionLoad.apply(this, ['X']);}"
                                    selectionchanged="function(){guidelib.author.GuideExtJSDialogUtils.handleUseFunction.apply(this, ['X']);}"/>
                            </reducerXFunction>
                        </items>
                    </axisX>
                    <axisY
                        jcr:primaryType="cq:Widget"
                        anchor="100%"
                        title="Y-Axis"
                        xtype="fieldset">
                        <items jcr:primaryType="cq:WidgetCollection">
                            <yAxisTitle
                                jcr:primaryType="cq:Widget"
                                fieldDescription="Title to appear for Y Axis."
                                fieldLabel="Title"
                                name="./yAxisTitle"
                                xtype="textfield"/>
                            <yAxis
                                jcr:primaryType="cq:Widget"
                                fieldDescription="Name of the field to be plotted on Y Axis."
                                fieldLabel="Field"
                                name="./yExp"
                                xtype="textfield"/>
                            <reducerYFunction
                                jcr:primaryType="cq:Widget"
                                autoHeight="{Boolean}true"
                                ctCls="guideChartCombo"
                                defaultValue="none"
                                fieldDescription="Use the selected function to compute value of the above field."
                                fieldLabel="Use function"
                                name="./reducerYFunction"
                                options="/libs/fd/af/components/info.json?type=chartReducer"
                                type="select"
                                xtype="selection">
                                <listeners
                                    jcr:primaryType="nt:unstructured"
                                    loadcontent="function(){guidelib.author.GuideExtJSDialogUtils.handleUseFunctionLoad.apply(this, ['Y']);}"
                                    selectionchanged="function(){guidelib.author.GuideExtJSDialogUtils.handleUseFunction.apply(this, ['Y']);}"/>
                            </reducerYFunction>
                        </items>
                    </axisY>
                    <innerRadius
                        jcr:primaryType="cq:Widget"
                        fieldDescription="In pixels"
                        fieldLabel="Inner Radius"
                        name="./innerRadius"
                        xtype="numberfield"/>
                    <lineColor
                        jcr:primaryType="cq:Widget"
                        fieldDescription="The default color is #000000 (Black)"
                        fieldLabel="Line color"
                        name="./lineColor"
                        xtype="textfield"/>
                    <pointColor
                        jcr:primaryType="cq:Widget"
                        fieldDescription="The default color is #000000 (Black)"
                        fieldLabel="Point color"
                        name="./pointColor"
                        xtype="textfield"/>
                    <areaColor
                        jcr:primaryType="cq:Widget"
                        fieldDescription="The default color is #000000 (Black)"
                        fieldLabel="Area color"
                        name="./areaColor"
                        xtype="textfield"/>
                </items>
            </chartConfig>
            <advancedChartOptions
                jcr:primaryType="nt:unstructured"
                title="Advanced options"
                xtype="panel">
                <items jcr:primaryType="cq:WidgetCollection">
                    <legendsNoteLabel
                        jcr:primaryType="cq:Widget"
                        id="legendsNoteLabel"
                        style="\{ color: #8F8F8F;  font-size: small; font-weight:normal;}"
                        text="Legend option is not available for Line / Point / Line and Point / Area chart types."
                        xtype="label"/>
                    <legends
                        jcr:primaryType="cq:Widget"
                        anchor="100%"
                        id="legends"
                        title="Legends"
                        xtype="fieldset">
                        <items jcr:primaryType="cq:WidgetCollection">
                            <showLegends
                                jcr:primaryType="cq:Widget"
                                fieldLabel="Show legends"
                                name="./showLegends"
                                type="checkbox"
                                xtype="selection">
                                <listeners
                                    jcr:primaryType="nt:unstructured"
                                    loadcontent="function(){guidelib.author.GuideExtJSDialogUtils.handleLegendSelection.apply(this);}"
                                    selectionchanged="function(){guidelib.author.GuideExtJSDialogUtils.handleLegendSelection.apply(this);}"/>
                            </showLegends>
                            <legendPosition
                                jcr:primaryType="cq:Widget"
                                ctCls="guideChartCombo"
                                defaultValue="right"
                                fieldLabel="Legend position"
                                name="./legendPosition"
                                type="select"
                                xtype="selection">
                                <options jcr:primaryType="cq:WidgetCollection">
                                    <right
                                        jcr:primaryType="nt:unstructured"
                                        text="Right"
                                        value="right"/>
                                    <left
                                        jcr:primaryType="nt:unstructured"
                                        text="Left"
                                        value="left"/>
                                    <top
                                        jcr:primaryType="nt:unstructured"
                                        text="Top"
                                        value="top"/>
                                    <bottom
                                        jcr:primaryType="nt:unstructured"
                                        text="Bottom"
                                        value="bottom"/>
                                </options>
                            </legendPosition>
                        </items>
                    </legends>
                    <tooltipNoteLabel
                        jcr:primaryType="cq:Widget"
                        id="tooltipNoteLabel"
                        style="\{ color: #8F8F8F;  font-size: small; font-weight:normal;}"
                        text="Tooltip option is not available for Line / Area chart types."
                        xtype="label"/>
                    <tooltipHtml
                        jcr:primaryType="nt:unstructured"
                        ctCls="guideChartTooltipText"
                        defaultValue="&lt;p>${x}(${y})&lt;/p>"
                        fieldLabel="Tooltip"
                        name="./tooltipHtml"
                        xtype="richtext">
                        <rtePlugins jcr:primaryType="nt:unstructured">
                            <misctools
                                jcr:primaryType="nt:unstructured"
                                features="*"/>
                        </rtePlugins>
                    </tooltipHtml>
                </items>
            </advancedChartOptions>
            <styling
                jcr:primaryType="nt:unstructured"
                title="Styling"
                xtype="panel">
                <items jcr:primaryType="cq:WidgetCollection">
                    <width
                        jcr:primaryType="nt:unstructured"
                        path="/libs/fd/af/components/guidefield/dialog/items/styling/items/width.infinity.json"
                        xtype="cqinclude"/>
                    <height
                        jcr:primaryType="nt:unstructured"
                        path="/libs/fd/af/components/guidefield/dialog/items/styling/items/height.infinity.json"
                        xtype="cqinclude"/>
                    <css
                        jcr:primaryType="nt:unstructured"
                        path="/libs/fd/af/components/guidefield/dialog/items/styling/items/css.infinity.json"
                        xtype="cqinclude"/>
                </items>
            </styling>
        </items>
    </items>
    <listeners
        jcr:primaryType="nt:unstructured"
        path="/libs/fd/af/components/guidefield/dialog/listeners.infinity.json"
        xtype="cqinclude"/>
</jcr:root>
