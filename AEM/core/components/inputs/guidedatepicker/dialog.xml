<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:granite="http://www.adobe.com/jcr/granite/1.0" xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
    jcr:mixinTypes="[granite:InternalArea]"
    jcr:primaryType="cq:Dialog"
    height="{Long}600"
    title="Edit date picker"
    xtype="dialog">
    <items jcr:primaryType="cq:TabPanel">
        <items jcr:primaryType="cq:WidgetCollection">
            <title
                jcr:primaryType="nt:unstructured"
                title="Title and text"
                xtype="panel">
                <items jcr:primaryType="cq:WidgetCollection">
                    <items
                        jcr:primaryType="nt:unstructured"
                        path="/libs/fd/af/components/guidefield/dialog/items/title/items.infinity.json"
                        xtype="cqinclude"/>
                    <value
                        jcr:primaryType="cq:Widget"
                        fieldDescription="Please enter the date in the required format  &quot;yyyy-mm-dd&quot;"
                        fieldLabel="Value"
                        name="./_value"
                        xtype="textfield"/>
                    <note
                        jcr:primaryType="cq:Widget"
                        height="35"
                        name="./placeholderNote"
                        text="*Placeholder text will not work for the native Date widget."
                        xtype="static"/>
                </items>
            </title>
            <script
                jcr:primaryType="nt:unstructured"
                labelWidth="{Long}160"
                title="Script"
                xtype="panel">
                <items jcr:primaryType="cq:WidgetCollection">
                    <ruleEditortext0
                        jcr:primaryType="cq:Widget"
                        path="/libs/fd/af/components/guidefield/dialog/items/script/items/ruleEditortext0.infinity.json"
                        xtype="cqinclude"/>
                    <ruleEditortext1
                        jcr:primaryType="cq:Widget"
                        path="/libs/fd/af/components/guidefield/dialog/items/script/items/ruleEditortext1.infinity.json"
                        xtype="cqinclude"/>
                </items>
            </script>
            <patterns
                jcr:primaryType="nt:unstructured"
                title="Patterns"
                xtype="panel">
                <items jcr:primaryType="cq:WidgetCollection">
                    <displayPatternGroup
                        jcr:primaryType="cq:Widget"
                        anchor="100%"
                        title="Display pattern*"
                        xtype="fieldset">
                        <items jcr:primaryType="cq:WidgetCollection">
                            <displayPatternType
                                jcr:primaryType="cq:Widget"
                                anchor="96%"
                                fieldLabel="Type"
                                options="/libs/fd/af/components/info.json?type=formatters&amp;guideNodeClass=guideDatePicker"
                                type="select"
                                xtype="selection">
                                <listeners
                                    jcr:primaryType="nt:unstructured"
                                    selectionchanged="function() { var fn = guidelib.author.GuideExtJSDialogUtils.patternSelectedListener('./displayPictureClause'); if(fn) fn.apply(this, arguments); }"/>
                            </displayPatternType>
                            <displayPictureClause
                                jcr:primaryType="nt:unstructured"
                                path="/libs/fd/af/components/guidefield/dialog/items/patterns/items/displayPictureClause.infinity.json"
                                xtype="cqinclude"/>
                        </items>
                    </displayPatternGroup>
                    <validationPatternGroup
                        jcr:primaryType="cq:Widget"
                        anchor="100%"
                        title="Validation pattern"
                        xtype="fieldset">
                        <items jcr:primaryType="cq:WidgetCollection">
                            <sameAsDisplayPattern
                                jcr:primaryType="nt:unstructured"
                                path="/libs/fd/af/components/guidefield/dialog/items/patterns/items/sameAsDisplayPattern.infinity.json"
                                xtype="cqinclude"/>
                            <validationPatternType
                                jcr:primaryType="cq:Widget"
                                anchor="96%"
                                fieldLabel="Type"
                                options="/libs/fd/af/components/info.json?type=formatters&amp;guideNodeClass=guideDatePicker"
                                type="select"
                                xtype="selection">
                                <listeners
                                    jcr:primaryType="nt:unstructured"
                                    selectionchanged="function() { var fn = guidelib.author.GuideExtJSDialogUtils.patternSelectedListener('./validatePictureClause'); if(fn) fn.apply(this, arguments); }"/>
                            </validationPatternType>
                            <validatePictureClause
                                jcr:primaryType="nt:unstructured"
                                path="/libs/fd/af/components/guidefield/dialog/items/patterns/items/validatePictureClause.infinity.json"
                                xtype="cqinclude"/>
                            <validatePictureClauseMessage
                                jcr:primaryType="nt:unstructured"
                                path="/libs/fd/af/components/guidefield/dialog/items/patterns/items/validatePictureClauseMessage.infinity.json"
                                xtype="cqinclude"/>
                        </items>
                    </validationPatternGroup>
                    <editPatternGroup
                        jcr:primaryType="cq:Widget"
                        anchor="100%"
                        title="Edit pattern*"
                        xtype="fieldset">
                        <items jcr:primaryType="cq:WidgetCollection">
                            <editSameAsDisplayPattern
                                jcr:primaryType="cq:Widget"
                                autoWidth="true"
                                fieldLabel="Same as display pattern"
                                name="./isEditSameAsDisplayPattern"
                                type="checkbox"
                                xtype="selection">
                                <listeners
                                    jcr:primaryType="nt:unstructured"
                                    selectionchanged="function() { guidelib.author.GuideExtJSDialogUtils.makeDisplayAndEditPatternSame.apply(this, arguments); }"/>
                            </editSameAsDisplayPattern>
                            <editPatternType
                                jcr:primaryType="cq:Widget"
                                anchor="96%"
                                fieldLabel="Type"
                                options="/libs/fd/af/components/info.json?type=formatters&amp;guideNodeClass=guideDatePicker"
                                type="select"
                                xtype="selection">
                                <listeners
                                    jcr:primaryType="nt:unstructured"
                                    selectionchanged="function() { guidelib.author.AuthorUtils._selectPatternForEdit.apply(this, arguments); }"/>
                            </editPatternType>
                            <editPictureClause
                                jcr:primaryType="cq:Widget"
                                fieldDescription="On selecting a type, the Pattern field is filled automatically. Regular Expression are permitted."
                                fieldLabel="Pattern"
                                name="./editPictureClause"
                                width="92%"
                                xtype="textfield">
                                <listeners
                                    jcr:primaryType="nt:unstructured"
                                    change="function() { guidelib.author.GuideExtJSDialogUtils.loadEditPatternType.apply(this, [arguments[0], false]); }"
                                    loadcontent="function() { guidelib.author.GuideExtJSDialogUtils.loadEditPatternType.apply(this, [arguments[0], true]); }"/>
                            </editPictureClause>
                        </items>
                    </editPatternGroup>
                    <note
                        jcr:primaryType="cq:Widget"
                        height="35"
                        name="./displayNote"
                        text="*If you provide a Display pattern or an Edit pattern, then the adaptive form uses a custom date widget else a native HTML5 date widget is used."
                        width="95%"
                        xtype="static"/>
                </items>
            </patterns>
            <styling
                jcr:primaryType="nt:unstructured"
                path="/libs/fd/af/components/guidefield/dialog/items/styling.infinity.json"
                xtype="cqinclude"/>
            <help
                jcr:primaryType="nt:unstructured"
                path="/libs/fd/af/components/guidefield/dialog/items/help.infinity.json"
                xtype="cqinclude"/>
            <accessibility
                jcr:primaryType="nt:unstructured"
                path="/libs/fd/af/components/guidefield/dialog/items/accessiblity.infinity.json"
                xtype="cqinclude"/>
            <excludeFromDor
                jcr:primaryType="nt:unstructured"
                path="/libs/fd/af/components/guidefield/dialog/items/dorSettings.infinity.json"
                xtype="cqinclude"/>
        </items>
    </items>
    <listeners
        jcr:primaryType="nt:unstructured"
        path="/libs/fd/af/components/guidefield/dialog/listeners.infinity.json"
        xtype="cqinclude"/>
</jcr:root>
