<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
    jcr:primaryType="cq:Dialog"
    height="{Long}600"
    xtype="dialog">
    <items jcr:primaryType="cq:TabPanel">
        <items jcr:primaryType="cq:WidgetCollection">
            <basicProps
                jcr:primaryType="nt:unstructured"
                border="false"
                title="Panel properties"
                xtype="panel">
                <items jcr:primaryType="cq:WidgetCollection">
                    <name
                        jcr:primaryType="nt:unstructured"
                        allowBlank="{Boolean}false"
                        fieldLabel="Element name"
                        name="./name"
                        regex="/^[a-zA-Z0-9_\\-]+$/"
                        regexText="Element name should only contain characters, numbers, _ or -"
                        xtype="textfield"/>
                    <title
                        jcr:primaryType="nt:unstructured"
                        fieldLabel="Title"
                        name="./jcr:title"
                        xtype="textfield"/>
                    <colspan
                        jcr:primaryType="cq:Widget"
                        disabled="false"
                        fieldDescription="Enter number of columns the panel should span. Supported only for Responsive layout."
                        fieldLabel="Colspan"
                        grow="false"
                        hideLabel="false"
                        name="./colspan"
                        readOnly="false"
                        selected="1"
                        type="combobox"
                        xtype="selection">
                        <options
                            jcr:primaryType="nt:unstructured"
                            path="/libs/fd/af/components/guidefield/dialog/items/title/items/colspan/options.infinity.json"
                            xtype="cqinclude"/>
                        <listeners
                            jcr:primaryType="nt:unstructured"
                            loadcontent="function(){guidelib.author.GuideExtJSDialogUtils.handleColspan.apply(this, arguments);}"/>
                    </colspan>
                    <description
                        jcr:primaryType="nt:unstructured"
                        fieldLabel="Description"
                        name="./jcr:description"
                        xtype="textfield"/>
                    <panelitemslayout
                        jcr:primaryType="cq:Widget"
                        autoHeight="{Boolean}true"
                        disabled="false"
                        fieldLabel="Layout of items"
                        grow="false"
                        hideLabel="false"
                        name="./layout/sling:resourceType"
                        optionsProvider="guidelib.author.GuideExtJSDialogUtils.loadPanelLayoutOptions"
                        readOnly="false"
                        type="select"
                        xtype="selection">
                        <listeners
                            jcr:primaryType="nt:unstructured"
                            loadcontent="function(){guidelib.author.GuideExtJSDialogUtils.showHideCompletion.apply(this, arguments);}"
                            selectionchanged="function(){guidelib.author.GuideExtJSDialogUtils.showHideCompletion.apply(this, arguments);}"/>
                    </panelitemslayout>
                    <toolbarPosition
                        jcr:primaryType="cq:Widget"
                        disabled="false"
                        fieldLabel="Position of toolbar"
                        grow="false"
                        hideLabel="false"
                        name="./layout/toolbarPosition"
                        readOnly="false"
                        type="select"
                        xtype="selection">
                        <options jcr:primaryType="cq:WidgetCollection">
                            <v1
                                jcr:primaryType="nt:unstructured"
                                text="Bottom"
                                value="Bottom"/>
                            <v2
                                jcr:primaryType="nt:unstructured"
                                text="Top"
                                value="Top"/>
                        </options>
                    </toolbarPosition>
                    <columns
                        jcr:primaryType="cq:Widget"
                        disabled="false"
                        editable="true"
                        fieldLabel="Number of columns"
                        grow="false"
                        hideLabel="false"
                        name="./layout/columns"
                        readOnly="false"
                        selected="1"
                        type="select"
                        xtype="selection">
                        <options jcr:primaryType="cq:WidgetCollection">
                            <v1
                                jcr:primaryType="nt:unstructured"
                                text="1"
                                value="1"/>
                            <v2
                                jcr:primaryType="nt:unstructured"
                                text="2"
                                value="2"/>
                            <v3
                                jcr:primaryType="nt:unstructured"
                                text="3"
                                value="3"/>
                            <v4
                                jcr:primaryType="nt:unstructured"
                                text="4"
                                value="4"/>
                            <v5
                                jcr:primaryType="nt:unstructured"
                                text="5"
                                value="5"/>
                            <v6
                                jcr:primaryType="nt:unstructured"
                                text="6"
                                value="6"/>
                        </options>
                    </columns>
                    <fragRef
                        jcr:primaryType="nt:unstructured"
                        fieldDescription="Path to Adaptive form fragment asset"
                        fieldLabel="Select Fragment asset"
                        name="./fragRef"
                        rootPath="/content/dam/formsanddocuments"
                        xtype="pathfield">
                        <listeners
                            jcr:primaryType="nt:unstructured"
                            change="function() { guidelib.author.GuideExtJSDialogUtils.showOrHideFieldBasedOnCondition(this, './optimizeRenderPerformance', !(arguments[1] == undefined  || arguments[1] === '')) }"
                            loadcontent="function() { guidelib.author.GuideExtJSDialogUtils.showOrHideFieldBasedOnCondition(this,'./optimizeRenderPerformance', !(this.value == undefined  || this.value === '')) }"/>
                    </fragRef>
                    <optimizeRenderPerformance
                        jcr:primaryType="cq:Widget"
                        description="Associated fragment would be loaded lazily."
                        fieldLabel="Load fragment lazily"
                        name="./optimizeRenderPerformance"
                        type="checkbox"
                        xtype="selection"/>
                    <bindref
                        jcr:primaryType="cq:Widget"
                        path="/libs/fd/af/components/guidefield/dialog/items/title/items/bindref.infinity.json"
                        xtype="cqinclude"/>
                    <ruleEditortext0
                        jcr:primaryType="cq:Widget"
                        html="&lt;label>Use the new &lt;b class='open-rule-editor' style='color:blue;cursor:pointer;text-decoration:underline;' >Rule Editor&lt;/b> to define scripts on panels.&lt;/label>"
                        style="text-align:center;"
                        xtype="static"/>
                    <ruleEditortext1
                        jcr:primaryType="cq:Widget"
                        cls="x-form-item-description"
                        style="text-align:center;  padding-left:3%;"
                        text="You can also access it directly from the panel's menu."
                        xtype="static"/>
                </items>
            </basicProps>
            <repeat
                jcr:primaryType="nt:unstructured"
                title="Repeat settings"
                xtype="panel">
                <items jcr:primaryType="cq:WidgetCollection">
                    <minOccur
                        jcr:primaryType="cq:Widget"
                        allowNegative="{Boolean}false"
                        fieldLabel="Minimum count"
                        name="./minOccur"
                        regex="/^[^ @#$%-]+[1-9]*$/"
                        xtype="numberfield"/>
                    <maxOccur
                        jcr:primaryType="cq:Widget"
                        fieldLabel="Maximum count"
                        minValue="-1"
                        name="./maxOccur"
                        regex="/^[^ @#$%]+[1-9]*$/"
                        xtype="numberfield"/>
                </items>
            </repeat>
            <styling
                jcr:primaryType="nt:unstructured"
                autoWidth="{Boolean}true"
                title="Styling"
                xtype="panel">
                <items jcr:primaryType="cq:WidgetCollection">
                    <width
                        jcr:primaryType="nt:unstructured"
                        path="/libs/fd/af/components/guidefield/dialog/items/styling/items/width.infinity.json"
                        xtype="cqinclude"/>
                    <height
                        jcr:primaryType="nt:unstructured"
                        path="/libs/fd/af/components/guidefield/dialog/items/styling/items/height.infinity.json"
                        xtype="cqinclude"/>
                    <css
                        jcr:primaryType="nt:unstructured"
                        path="/libs/fd/af/components/guidefield/dialog/items/styling/items/css.infinity.json"
                        xtype="cqinclude"/>
                    <inlineStyleLabel
                        jcr:primaryType="nt:unstructured"
                        path="/libs/fd/af/components/guidefield/dialog/items/styling/items/inlineStyleLabel.infinity.json"
                        xtype="cqinclude"/>
                    <inlineStyleProperties
                        jcr:primaryType="cq:Widget"
                        name="guideStyle"
                        xtype="tabpanel">
                        <items jcr:primaryType="cq:WidgetCollection">
                            <panelStyles
                                jcr:primaryType="nt:unstructured"
                                autoHeight="{Boolean}true"
                                forceLayout="{Boolean}true"
                                hideMode="offsets"
                                labelWidth="{Long}160"
                                title="Panel"
                                xtype="panel">
                                <items jcr:primaryType="cq:WidgetCollection">
                                    <inlinestyles
                                        jcr:primaryType="cq:Widget"
                                        hidden="{Boolean}true"
                                        hideMode="offsets"
                                        name="./inlineStyles"
                                        xtype="multifield">
                                        <fieldConfig
                                            jcr:primaryType="nt:unstructured"
                                            column="1"
                                            xtype="textfield"/>
                                    </inlinestyles>
                                    <panelProperties
                                        jcr:primaryType="cq:Widget"
                                        fieldLabel="Property"
                                        hideLabel="{Boolean}true"
                                        name="Panel"
                                        xtype="multifield">
                                        <fieldConfig
                                            jcr:primaryType="nt:unstructured"
                                            column="2"
                                            xtype="guidestylemultifield"/>
                                    </panelProperties>
                                </items>
                            </panelStyles>
                            <panelDescriptionStyles
                                jcr:primaryType="nt:unstructured"
                                autoHeight="{Boolean}true"
                                forceLayout="{Boolean}true"
                                hideMode="offsets"
                                title="PanelDescription"
                                xtype="panel">
                                <items jcr:primaryType="cq:WidgetCollection">
                                    <panelDescriptionProperties
                                        jcr:primaryType="cq:Widget"
                                        fieldLabel="Property"
                                        hideLabel="{Boolean}true"
                                        name="PanelDescription"
                                        xtype="multifield">
                                        <fieldConfig
                                            jcr:primaryType="nt:unstructured"
                                            xtype="guidestylemultifield"/>
                                    </panelDescriptionProperties>
                                </items>
                            </panelDescriptionStyles>
                            <helpStyles
                                jcr:primaryType="nt:unstructured"
                                autoHeight="{Boolean}true"
                                autoScroll="{Boolean}true"
                                forceLayout="{Boolean}true"
                                title="Help"
                                xtype="panel">
                                <items jcr:primaryType="cq:WidgetCollection">
                                    <questionMarkStyles
                                        jcr:primaryType="nt:unstructured"
                                        path="/libs/fd/af/components/guidefield/dialog/items/styling/items/inlineStyleProperties/items/helpStyles/items/questionMarkStyles.infinity.json"
                                        xtype="cqinclude"/>
                                    <longDesctiptionStyles
                                        jcr:primaryType="nt:unstructured"
                                        path="/libs/fd/af/components/guidefield/dialog/items/styling/items/inlineStyleProperties/items/helpStyles/items/longDesctiptionStyles.infinity.json"
                                        xtype="cqinclude"/>
                                </items>
                            </helpStyles>
                        </items>
                        <listeners
                            jcr:primaryType="nt:unstructured"
                            afterrender="function(){guidelib.author.AuthorUtils.setDialogConfigForStyleEditor.apply(this,arguments);}"/>
                    </inlineStyleProperties>
                    <inlineStyleDescription
                        jcr:primaryType="nt:unstructured"
                        path="/libs/fd/af/components/guidefield/dialog/items/styling/items/inlineStyleDescription.infinity.json"
                        xtype="cqinclude"/>
                    <preview
                        jcr:primaryType="cq:Widget"
                        boxMaxWidth="{Long}10"
                        handler="function(){guidelib.author.GuideExtJSDialogUtils.handlePreviewOfInlineStylesForPanels.apply(this);}"
                        style="float: right;margin-right: 30px;"
                        text="Preview"
                        xtype="button"/>
                </items>
            </styling>
            <help
                jcr:primaryType="nt:unstructured"
                title="Help content"
                xtype="panel">
                <items jcr:primaryType="cq:WidgetCollection">
                    <longDescription
                        jcr:primaryType="cq:Widget"
                        height="150"
                        hideLabel="{Boolean}true"
                        name="./longDescription"
                        xtype="richtext">
                        <rtePlugins jcr:primaryType="nt:unstructured">
                            <misctools
                                jcr:primaryType="nt:unstructured"
                                features="*"/>
                        </rtePlugins>
                    </longDescription>
                </items>
            </help>
            <dorSettings
                jcr:primaryType="nt:unstructured"
                title="DOR Settings"
                xtype="panel">
                <items jcr:primaryType="cq:WidgetCollection">
                    <excludeFromDor
                        jcr:primaryType="nt:unstructured"
                        path="/libs/fd/af/components/guidefield/dialog/items/dorSettings/items/excludeFromDor.json"
                        xtype="cqinclude"/>
                    <dorMarkPanelAsTable
                        jcr:primaryType="cq:Widget"
                        defaultValue="false"
                        fieldDescription="Checking this will transform this panel to be table in Document of Record. Only to be used with repeatable panel use case"
                        fieldLabel="Display panel as table"
                        name="./dorMarkPanelAsTable"
                        type="checkbox"
                        xtype="selection"/>
                    <dorExcludeTitle
                        jcr:primaryType="cq:Widget"
                        defaultValue="false"
                        fieldDescription="Checking this will skip title of the component to be part of Document Of Record"
                        fieldLabel="Exclude title from Document of Record"
                        name="./dorExcludeTitle"
                        type="checkbox"
                        xtype="selection"/>
                    <dorExcludeDescription
                        jcr:primaryType="cq:Widget"
                        defaultValue="false"
                        fieldDescription="Checking this will skip description of the component to be part of Document Of Record"
                        fieldLabel="Exclude description from Document of Record"
                        name="./dorExcludeDescription"
                        type="checkbox"
                        xtype="selection"/>
                </items>
            </dorSettings>
        </items>
    </items>
    <listeners
        jcr:primaryType="nt:unstructured"
        activate="function() {guidelib.author.editConfigListeners.launchExpressionEditor.apply(this);}"
        beforehide="function(){guidelib.author.GuideExtJSDialogUtils.beforeHideHandler.apply(this);}"/>
</jcr:root>
